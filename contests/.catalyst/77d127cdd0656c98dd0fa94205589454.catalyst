{"title":{"en":"B. Divine Array","ru":"B. Священный массив"},"contestId":"1602","problemIndex":"B","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>Black is gifted with a Divine array $$$a$$$ consisting of $$$n$$$ ($$$1 \\le n \\le 2000$$$) integers. Each position in $$$a$$$ has an initial value. After shouting a curse over the array, it becomes angry and starts an unstoppable transformation.</p><p>The transformation consists of infinite steps. Array $$$a$$$ changes at the $$$i$$$-th step in the following way: for every position $$$j$$$, $$$a_j$$$ becomes equal to the number of occurrences of $$$a_j$$$ in $$$a$$$ before starting this step.</p><p>Here is an example to help you understand the process better: </p><center> <table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-text-align-center\">Initial array:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$1$$$ $$$1$$$ $$$4$$$ $$$3$$$ $$$1$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">After the $$$1$$$-st step:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$3$$$ $$$3$$$ $$$1$$$ $$$1$$$ $$$3$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">After the $$$2$$$-nd step:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$3$$$ $$$3$$$ $$$2$$$ $$$2$$$ $$$3$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">After the $$$3$$$-rd step:</td><td class=\"tex-tabular-text-align-center\">$$$4$$$ $$$3$$$ $$$3$$$ $$$4$$$ $$$4$$$ $$$3$$$ $$$4$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">...</td><td class=\"tex-tabular-text-align-center\">...</td></tr></tbody></table> </center><p>In the initial array, we had two $$$2$$$-s, three $$$1$$$-s, only one $$$4$$$ and only one $$$3$$$, so after the first step, each element became equal to the number of its occurrences in the initial array: all twos changed to $$$2$$$, all ones changed to $$$3$$$, four changed to $$$1$$$ and three changed to $$$1$$$.</p><p>The transformation steps continue <span class=\"tex-font-style-bf\">forever</span>.</p><p>You have to process $$$q$$$ queries: in each query, Black is curious to know the value of $$$a_x$$$ after the $$$k$$$-th step of transformation.</p>","ru":"<p>Блэку был ниспослан Священный массив $$$a$$$ состоящий из $$$n$$$ ($$$1 \\le n \\le 2000$$$) целых чисел. У каждого элемента $$$a$$$ есть первоначальное состояние. Однако после ругательств в свою сторону, массив разозлился и начал бесконтрольно трансформироваться.</p><p>Трансформация состоит из бесконечного количества шагов. На $$$i$$$-м шаге массив $$$a$$$ меняется следующим образом: в каждой позиции $$$j$$$, $$$a_j$$$ становится равным количеству вхождений значения $$$a_j$$$ в $$$a$$$ перед началом этого шага.</p><p>Для большего понимания, ниже приведен пример превращения: </p><center> <table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-text-align-center\">Первоначальный массив:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$1$$$ $$$1$$$ $$$4$$$ $$$3$$$ $$$1$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">После $$$1$$$-го шага:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$3$$$ $$$3$$$ $$$1$$$ $$$1$$$ $$$3$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">После $$$2$$$-го шага:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$3$$$ $$$3$$$ $$$2$$$ $$$2$$$ $$$3$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">После $$$3$$$-го шага:</td><td class=\"tex-tabular-text-align-center\">$$$4$$$ $$$3$$$ $$$3$$$ $$$4$$$ $$$4$$$ $$$3$$$ $$$4$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">...</td><td class=\"tex-tabular-text-align-center\">...</td></tr></tbody></table> </center><p>В первоначальном массиве были две $$$2$$$, три $$$1$$$, одна $$$4$$$ и одна $$$3$$$, а потому после первого шага, каждый элемент стал равен его количеству вхождений: все двойки стали равны $$$2$$$, все единицы стали равны $$$3$$$, четверка стала равна $$$1$$$ и тройка стала равна $$$1$$$.</p><p>Количество шагов в трансформации <span class=\"tex-font-style-bf\">бесконечно</span>.</p><p>Вам нужно обработать $$$q$$$ запросов: в каждом запросе Блэка интересует значение $$$a_x$$$ после $$$k$$$-го шага трансформации.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>Each test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 1000$$$). Description of the test cases follows.</p><p>The first line of each test case contains an integer $$$n$$$ ($$$1 \\le n \\le 2000$$$)&nbsp;— the size of the array $$$a$$$.</p><p>The second line of each test case contains $$$n$$$ integers $$$a_1, a_2, \\dots, a_n$$$ ($$$1 \\le a_i \\le n$$$)&nbsp;— the initial values of array $$$a$$$.</p><p>The third line of each test case contains a single integer $$$q$$$ ($$$1 \\le q \\le 100\\,000$$$)&nbsp;— the number of queries.</p><p>Next $$$q$$$ lines contain the information about queries&nbsp;— one query per line. The $$$i$$$-th line contains two integers $$$x_i$$$ and $$$k_i$$$ ($$$1 \\le x_i \\le n$$$; $$$0 \\le k_i \\le 10^9$$$), meaning that Black is asking for the value of $$$a_{x_i}$$$ after the $$$k_i$$$-th step of transformation. $$$k_i = 0$$$ means that Black is interested in values of the initial array.</p><p>It is guaranteed that the sum of $$$n$$$ over all test cases doesn't exceed $$$2000$$$ and the sum of $$$q$$$ over all test cases doesn't exceed $$$100\\,000$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>Во входных данных находятся несколько наборов входных данных. В первой строке находится одно целое число $$$t$$$ ($$$1 \\le t \\le 1000$$$)&nbsp;— количество наборов входных данных. Далее следуют сами наборы входных данных.</p><p>В первой строке каждого набора задано одно целое число $$$n$$$ ($$$1 \\le n \\le 2000$$$)&nbsp;— размер массива $$$a$$$.</p><p>Во второй строке каждого набора заданы $$$n$$$ целых чисел $$$a_1, a_2, \\dots, a_n$$$ ($$$1 \\le a_i \\le n$$$)&nbsp;— первоначальные значения массива $$$a$$$.</p><p>В третьей строке каждого набора задано одно целое число $$$q$$$ ($$$1 \\le q \\le 100\\,000$$$)&nbsp;— количество запросов.</p><p>В следующих $$$q$$$ строках заданы сами запросы&nbsp;— по одному в строке. В $$$i$$$-й строке заданы два целых числа $$$x_i$$$ и $$$k_i$$$ ($$$1 \\le x_i \\le n$$$; $$$0 \\le k_i \\le 10^9$$$) означающих, что Блэка интересует значение $$$a_{x_i}$$$ после $$$k_i$$$-го шага трансформации. $$$k_i = 0$$$ означает, что Блэка интересуют значения первоначального массива.</p><p>Гарантируется, что сумма $$$n$$$ по всем наборам входных данных не превосходит $$$2000$$$, а сумма $$$q$$$ по всем наборам не превосходит $$$100\\,000$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each test case, print $$$q$$$ answers. The $$$i$$$-th of them should be the value of $$$a_{x_i}$$$ after the $$$k_i$$$-th step of transformation. It can be shown that the answer to each query is unique.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Для каждого набора входных данных выведите $$$q$$$ ответов. $$$i$$$-м ответом будет являться значение $$$a_{x_i}$$$ после $$$k_i$$$-го шага трансформации. Можно показать, что ответ на каждый запрос единственен.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>The first test case was described ih the statement. It can be seen that: </p><ol> <li> $$$k_1 = 0$$$ (initial array): $$$a_3 = 1$$$; </li><li> $$$k_2 = 1$$$ (after the $$$1$$$-st step): $$$a_1 = 2$$$; </li><li> $$$k_3 = 2$$$ (after the $$$2$$$-nd step): $$$a_2 = 3$$$; </li><li> $$$k_4 = 1$$$ (after the $$$1$$$-st step): $$$a_6 = 3$$$. </li></ol><p>For the second test case, </p><table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-text-align-center\">Initial array:</td><td class=\"tex-tabular-text-align-center\">$$$1$$$ $$$1$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">After the $$$1$$$-st step:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">After the $$$2$$$-nd step:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">...</td><td class=\"tex-tabular-text-align-center\">...</td></tr></tbody></table><p></p><p>It can be seen that: </p><ol> <li> $$$k_1 = 0$$$ (initial array): $$$a_1 = 1$$$; </li><li> $$$k_2 = 1000000000$$$: $$$a_2 = 2$$$; </li></ol>","ru":"<div class=\"section-title\">Примечание</div><p>Первый набор входных данных рассмотрен в условии задачи. Можно видеть, что: </p><ol> <li> $$$k_1 = 0$$$ (начальный массив): $$$a_3 = 1$$$; </li><li> $$$k_2 = 1$$$ (после $$$1$$$-го шага): $$$a_1 = 2$$$; </li><li> $$$k_3 = 2$$$ (после $$$2$$$-го шага): $$$a_2 = 3$$$; </li><li> $$$k_4 = 1$$$ (после $$$1$$$-го шага): $$$a_6 = 3$$$. </li></ol><p>Для второго набора входных данных, </p><table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-text-align-center\">Первоначальный массив:</td><td class=\"tex-tabular-text-align-center\">$$$1$$$ $$$1$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">После $$$1$$$-го шага:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">После $$$2$$$-го шага:</td><td class=\"tex-tabular-text-align-center\">$$$2$$$ $$$2$$$</td></tr><tr><td class=\"tex-tabular-text-align-center\">...</td><td class=\"tex-tabular-text-align-center\">...</td></tr></tbody></table><p></p><p>Можно видеть, что: </p><ol> <li> $$$k_1 = 0$$$ (начальный массив): $$$a_1 = 1$$$; </li><li> $$$k_2 = 1000000000$$$: $$$a_2 = 2$$$; </li></ol>"},"sampleTestcases":[{"id":1635255970733,"input":"2\n7\n2 1 1 4 3 1 2\n4\n3 0\n1 1\n2 2\n6 1\n2\n1 1\n2\n1 0\n2 1000000000","output":"1\n2\n3\n3\n1\n2\n","result":{"id":1635255970733,"stdout":"","stderr":"","exitcode":null,"signal":"SIGTERM","time":443,"timeout":true}}],"submitUrl":"https://codeforces.com/contest/1602/submit","language":"c++","langId":"54"}